<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "MainList">
	
	<!-- 펜션 리스트 -->
	<select id="penSelect" resultType="map" parameterType="int">
		<![CDATA[
			select
			    p.name ,
			    p.visit_road3 ,
			    v.stars ,
			    r.status ,
			    pr.price ,
			    p.law_name,
                pi.image_path
			from pension p, company c, users u, reservations r, reviews v,
			rooms rm, prices pr, pension_image pi
			where p.no = c.no
            and p.no = pi.no
			and c.no = u.no
			and u.no = r.no
			and r.no = v.no
			and r.no = rm.no
			and rm.no = pr.no
			and p.law_code = #{areaNo}
		]]>
	</select>
	
	<!-- 리뷰 수 가ㅕ오기 -->
	<select id="selectTotalCnt" resultType="int">
		<![CDATA[
			SELECT COUNT(*) FROM reviews
		]]>
	</select>
	
	
</mapper>