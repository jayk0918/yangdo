<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="repay">



	<select id="getRePay" parameterType="int" resultType="Map">
		<![CDATA[
				select    r.no NO
		                 ,ro.no ROOMNO
	                     ,u.no
	                     ,u.email
		                 ,r.user_no  USERNO
		                 ,po.no POINTNO
		                 ,po.point POints
		                 ,r.name RNAME 
		                 ,r.hp RHP
		                 ,r.check_in
		                 ,r.check_out 
		                 ,ro.room_name
		                 ,p.name PNAME
		                 ,ro.standard_people
		                 ,p.add_adult_price
		                 ,p.add_kid_price
		                 ,p.add_baby_price
		                 ,ro.max_people
		                 ,p.refund_no
		                 ,r.adult 
		                 ,r.kid 
		                 ,r.baby 
		                 ,r.total_price 
		                 ,r.status
		                 ,r.reg_date
		         from reservations r , rooms ro , pension p , points po ,users u
		         where r.room_no = ro.no
		         and po.no = r.no
		         and p.no = ro.pension_no
		         and u.no =r.user_no
				 and r.no = #{no} 
		]]>
	</select>
	<!-- <insert id="payInsert" parameterType="com.javaex.vo.RePayVo">
		<![CDATA[
				insert into reservations
				values(SEQ_RESERVATIONS_NO.nextval,#{roomNo},#{userName},#{hp},#{checkIn},#{checkOut},#{adult},#{kid},#{baby},#{totalPrice},SYSDATE,#{payWay},#{payStatus},#{reStatus},,);
		]]>
	</insert>
	
	<insert id="yangdoPayInsert" parameterType="com.javaex.vo.RePayVo">
		<![CDATA[
				insert into reservations
				values(SEQ_RESERVATIONS_NO.nextval,#{roomNo},#{userName},#{hp},#{checkIn},#{checkOut},#{adult},#{kid},#{baby},#{totalPrice},SYSDATE,#{payWay},#{payStatus},#{reStatus},#{trancePrice},#{prNo});
		]]>
	</insert>
	
	<update id="yangdoPayUpdate" parameterType="com.javaex.vo.RePayVo">
		<![CDATA[
				update reservations
				set    
	       			   name = #{name},
				       hp = #{hp},
				where  no = #{no}
		]]>
	</update> -->
	

</mapper>